<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Task It Up</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
    <div id="app">
        <!-- Home Tab -->
        <div id="home" class="tab-content active">
            <h1 id="welcome-message" class="main-heading">Welcome, User!</h1>
            <div class="balance-box card">
                <p>Your Balance</p>
                <h2 id="balance">0 Pepe</h2>
            </div>
            <div class="card">
                <h3>Join our Channel & Earn! 🚀</h3>
                <p>Get 300 Pepe instantly for joining our official Telegram channel.</p>
                <div class="bonus-buttons">
                    <a href="https://t.me/taskupofficial" target="_blank" class="btn btn-secondary">Join Channel</a>
                    <button id="verify-join-btn" class="btn btn-success">Verify</button>
                </div>
            </div>
        </div>

        <!-- Earn Tab -->
        <div id="earn" class="tab-content">
            <h1 class="main-heading">💰 Earn Rewards</h1>
            <div class="card">
                <h3>Today's Ad Task</h3>
                <p>You can watch 40 ads per day. Earn 250 Pepe for each one!</p>
                <div class="progress-bar-container">
                    <div id="progress-bar" class="progress-bar"></div>
                </div>
                <p id="ad-progress">0/40</p>
                <button id="watch-ad-btn" class="btn btn-primary btn-full-width">Watch Ad 👀</button>
            </div>
        </div>

        <!-- Withdraw Tab -->
        <div id="withdraw" class="tab-content">
            <h1 class="main-heading">💸 Withdraw Funds</h1>
            <div class="card">
                <p>Available Balance: <strong id="withdraw-balance">0 Pepe</strong></p>
                <div class="withdraw-form">
                    <select id="withdraw-method">
                        <option value="binance">Withdraw Method: Binance</option>
                    </select>
                    <input type="number" id="withdraw-amount" placeholder="Amount (min. 10000 Pepe)">
                    <input type="text" id="withdraw-address" placeholder="Binance Email or UID">
                    <button id="withdraw-btn" class="btn btn-primary btn-full-width">Request Withdraw</button>
                </div>
            </div>
            <div class="card">
                <h3>Withdrawal History</h3>
                <ul id="history-list">
                    <li>No withdrawal history.</li>
                </ul>
            </div>
        </div>

        <!-- Profile Tab -->
        <div id="profile" class="tab-content">
            <h1 class="main-heading">👤 Profile</h1>
            <div class="card profile-header">
                <img id="profile-pic" src="https://i.ibb.co/2tD3sS3/default-avatar.png" alt="Profile Picture">
                <h2 id="profile-name">User Name</h2>
                <p id="profile-username">@username</p>
            </div>
            <div class="card">
                <h3>Your Referral Link</h3>
                <div class="referral-link">
                    <input type="text" id="referral-link-input" readonly>
                    <button id="copy-referral-btn" class="btn btn-secondary">📋 Copy</button>
                </div>
            </div>
             <div class="card">
                <h3>📊 Statistics</h3>
                <div class="profile-stats">
                    <div class="stat-item">
                        <span>Total Lifetime Earned</span>
                        <strong id="total-earned">0 Pepe</strong>
                    </div>
                    <div class="stat-item">
                        <span>Total Ads Watched</span>
                        <strong id="total-ads-watched">0</strong>
                    </div>
                    <div class="stat-item">
                        <span>Total Referrals</span>
                        <strong id="total-referrals">0</strong>
                    </div>
                    <div class="stat-item">
                        <span>Total Referral Earnings</span>
                        <strong id="total-referral-earnings">0 Pepe</strong>
                    </div>
                </div>
            </div>
        </div>

        <!-- Referral Popup -->
        <div id="referral-popup" class="popup">
            <div class="popup-content card">
                <span class="close-popup">&times;</span>
                <h2>🎁 Refer & Earn!</h2>
                <p>Invite your friends and earn a <strong>10% commission</strong> from their earnings forever!</p>
                <input type="text" id="popup-referral-link" readonly>
                <button id="popup-copy-btn" class="btn btn-primary btn-full-width">📋 Copy Link</button>
            </div>
        </div>
    </div>

    <!-- Bottom Navigation -->
    <nav class="bottom-nav">
        <button class="nav-btn active" data-tab="home">🏠<span>Home</span></button>
        <button class="nav-btn" data-tab="earn">💪<span>Earn</span></button>
        <button class="nav-btn" data-tab="withdraw">🏧<span>Withdraw</span></button>
        <button class="nav-btn" data-tab="profile">👤<span>Profile</span></button>
    </nav>

    <!-- Gift Box Icon -->
    <div id="gift-box-icon" class="gift-box">🎁</div>

    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    <script src="script.js"></script>
</body>
</html>
